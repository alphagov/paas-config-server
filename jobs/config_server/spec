---
name: config_server
templates:
  config.json.erb: config/config.json
  cert.erb: config/cert
  key.erb: config/key
  ctl.erb: bin/ctl

packages:
  - config_server

properties:
  port:
    description: 'config server port number'
    default: 8080

  store:
    description: 'memory|db'
    default: memory

  # SSL
  ssl.certification:
    description: 'ssl certificate'
  ssl.private_key:
    description: 'ssl private key'

  # Database
  db.adapter:
    description: The type of database used (postgres|mysql)
    default: postgres
  db.user:
    description: Username used for the config_server database
    default: config_server
  db.password:
    description: Password used for the config_server database
  db.host:
    description: |
      Address of the config_server database, for example, in the case of AWS RDS:
      rds-instance-name.coqxxxxxxxxx.us-east-1.rds.amazonaws.com
    default: 127.0.0.1
  db.port:
    description: Port of the config_server database (e.g, postgres adapter would generally use 5432)
    default: 5432
  db.database:
    description: Name of the config_server database
    default: config_server
  db.connection_options:
    description: Additional options for the database
    default:
      max_open_connections: 32 #Maximum number of open connections to the database
      max_idle_connections: 10 #Maximum number of connections in the idle connection pool

